{"version":3,"sources":["rem.js"],"names":["doc","win","docEl","documentElement","resizeEvt","window","recalc","clientWidth","style","fontSize","addEventListener","document","x","w","a","r","getBoundingClientRect","width","v","rem","u","t","s","q","querySelector","o","getAttribute","match","parseFloat","parseInt","devicePixelRatio","toString","setAttribute","createElement","firstElementChild","appendChild","m","write","innerHTML","dpr","clearTimeout","setTimeout","b","persisted","readyState","body"],"mappings":"CAaA,SAAUA,EAAIC,GACX,IAAIC,EAAQF,EAAIG,gBAAgBC,EAAY,sBAAuBC,OAAS,oBAAsB,SAClGC,EAAS,WACR,IAAIC,EAAcL,EAAMK,YACpBA,IAEHL,EAAMM,MAAMC,SADVF,GAAa,KACQ,QAGOA,EAAc,KAArB,IAA6B,OAGjDP,EAAIU,mBACHT,EAAIS,iBAAiBN,EAAWE,GAAQ,GACxCN,EAAIU,iBAAiB,mBAAoBJ,GAAQ,KACrDK,SAASN,QAEb,SAASO,GACN,SAASC,IACL,IAAIC,EAAIC,EAAEC,wBAAwBC,MAClCH,EAAII,EAAI,OAASJ,EAAI,KAAOI,GAAIN,EAAEO,IAAML,EAAI,MAAOC,EAAEP,MAAMC,SAAWG,EAAEO,IAAM,KAElF,IAAID,EAAGE,EAAGC,EAAGC,EAAIV,EAAED,SAAUI,EAAIO,EAAEnB,gBAAiBoB,EAAID,EAAEE,cAAc,yBACxE,GAAID,EAAG,CACH,IAAIE,EAAIF,EAAEG,aAAa,WAAWC,MAAM,sCACxCF,IAAML,EAAIQ,WAAWH,EAAE,IAAKP,EAAIW,SAAS,EAAIT,IAEjD,IAAKF,IAAME,EAAG,CAEV,IAAIU,EAAmBzB,OAAOyB,iBAIXA,EAAiBC,WAAWJ,MAAM,eAcrDP,EAAI,GAVIF,EAAI,GAahB,GAAIH,EAAEiB,aAAa,WAAYd,IAAKK,EAChC,IAAIA,EAAID,EAAEW,cAAc,SAAWD,aAAa,OAAQ,YAAaT,EAAES,aAAa,UAAW,iBAAmBZ,EAAI,mBAAqBA,EAAI,mBAAqBA,EAAI,sBAAuBL,EAAEmB,kBAC7LnB,EAAEmB,kBAAkBC,YAAYZ,OAC7B,CACH,IAAIa,EAAId,EAAEW,cAAc,OACxBG,EAAED,YAAYZ,GAAID,EAAEe,MAAMD,EAAEE,WAGpC1B,EAAE2B,IAAMrB,EAAGN,EAAEF,iBAAiB,SAAU,WACpC8B,aAAanB,GAAIA,EAAIoB,WAAW5B,EAAG,OACpC,GAAKD,EAAEF,iBAAiB,WAAY,SAASgC,GAC5CA,EAAEC,YAAcH,aAAanB,GAAIA,EAAIoB,WAAW5B,EAAG,QACpD,GAAK,aAAeS,EAAEsB,WAAatB,EAAEuB,KAAKrC,MAAMC,SAAW,GAAKS,EAAI,KAAOI,EAAEZ,iBAAiB,mBAAoB,WACjHY,EAAEuB,KAAKrC,MAAMC,SAAW,GAAKS,EAAI,OAClC,GAAKL,KAGVR","file":"../rem.js","sourcesContent":["/*\nfunction init() {\n\tvar screenW = document.documentElement.offsetWidth || document.body.offsetWidth;\n\tvar oHtml = document.getElementsByTagName('html')[0];\n\toHtml.style.fontSize = (100*screenW/736) + 'px';\n\t\n\t\n\t\t\t\n}\ninit();\nwindow.addEventListener('orientationchange',init);\nwindow.addEventListener('resize',init);*/\n\n(function(doc,win){\n\t\t\tvar docEl = doc.documentElement,resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n\t\t\trecalc = function(){\n\t\t\t\tvar clientWidth = docEl.clientWidth;\n\t\t\t\tif(!clientWidth) return;\n\t\t\t\tif(clientWidth>=1334){\n\t\t\t\t\tdocEl.style.fontSize = '100px';\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tdocEl.style.fontSize = 100 * (clientWidth / 1334) + 'px';\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!doc.addEventListener) return;\n\t        win.addEventListener(resizeEvt, recalc, false);\n\t        doc.addEventListener('DOMContentLoaded', recalc, false);\n\t\t})(document,window);\n// dpr\n!function(x) {\n    function w() {\n        var a = r.getBoundingClientRect().width;\n        a / v > 1334 && (a = 1334 * v), x.rem = a / 13.34, r.style.fontSize = x.rem + \"px\";\n    }\n    var v, u, t, s = x.document, r = s.documentElement, q = s.querySelector('meta[name=\"viewport\"]');\n    if (q) {\n        var o = q.getAttribute(\"content\").match(/initial\\-scale=([\"‘]?)([\\d\\.]+)\\1?/);\n        o && (u = parseFloat(o[2]), v = parseInt(1 / u))\n    }\n    if (!v && !u) {\n        //devicePixelRatio这个属性是可以获取到设备的dpr\n        var devicePixelRatio = window.devicePixelRatio;\n        // console.log(devicePixelRatio);\n        // console.log(1)\n        //判断dpr是否为整数\n        var isRegularDpr = devicePixelRatio.toString().match(/^[1-9]\\d*$/g)\n        if (isRegularDpr) {\n            // 对于是整数的dpr，对dpr进行操作\n            if (devicePixelRatio >= 3 && (!v || v >= 3)) {\n                v = 1;\n            } else if (devicePixelRatio >= 2 && (!v || v >= 2)){\n                v = 1;\n            } else {\n                v = 1;\n            }\n        } else {\n            // 对于其他的dpr，人采用dpr为1的方案\n            v = 1;\n        }\n        u = 1 / v;\n    }\n\t\n    if (r.setAttribute(\"data-dpr\", v), !q) {\n        if (q = s.createElement(\"meta\"), q.setAttribute(\"name\", \"viewport\"), q.setAttribute(\"content\", \"initial-scale=\" + u + \", maximum-scale=\" + u + \", minimum-scale=\" + u + \", user-scalable=no\"), r.firstElementChild) {\n            r.firstElementChild.appendChild(q)\n        } else {\n            var m = s.createElement(\"div\");\n            m.appendChild(q), s.write(m.innerHTML)\n        }\n    }\n    x.dpr = v, x.addEventListener(\"resize\", function() {\n        clearTimeout(t), t = setTimeout(w, 300)\n    }, !1), x.addEventListener(\"pageshow\", function(b) {\n        b.persisted && (clearTimeout(t), t = setTimeout(w, 300))\n    }, !1), \"complete\" === s.readyState ? s.body.style.fontSize = 12 * v + \"px\" : s.addEventListener(\"DOMContentLoaded\", function() {\n        s.body.style.fontSize = 12 * v + \"px\"\n    }, !1), w()\n\t\n\t\n}(window);\n"]}